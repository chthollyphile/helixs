version: '3.8'

services:
  helixs:
  build:
    context: .
    dockerfile: Dockerfile
  container_name: helixs-app
  restart: unless-stopped
  ports:
    - "8080:80"
  volumes:
    # Mount the config file so you can edit it on the host without rebuilding
    - ./public/config.json:/usr/share/nginx/html/config.json
  healthcheck:
    test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost/health"]
    interval: 30s
    timeout: 10s
    retries: 3
    start_period: 40s
  labels:
    - "com.helixs.description=HelixS Application"
    - "com.helixs.version=1.0.0"
  networks:
    - homelab

networks:
  homelab:
    driver: bridge
